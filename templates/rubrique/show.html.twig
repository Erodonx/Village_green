{% extends 'base.html.twig' %}
{% block body %}
<div class="container">
    <h2>Nos {{srubriques[0].getRubrique.nom}}</h2>
    <div class="row pt-3">
    {% set n = 1 %}
    {% for sr in srubriques %}
    {% for produit in sr.produits %}
    {% if total % 3 == 2 %}
    {% if (total - n) == 1 or (total - n) == 0 %}
    <div class ="col-md-1"></div>
        <div class="col-md-5 card bg-white">
        <div class="card-body">
        <div class="row"><img src="/images/produits/{{produit.image}}">
        </div>
        <div class="row">
            <h5 class="card-title">
                <a href="{{ path('app_produit_show', {id: produit.id, slug: produit.slug}) }}">{{produit.nom}}</a>
            </h5>
        <p class="card-text text-dark">{{produit.description}}</p>
        <div class="text-primary" style="font-weight: bold; font-size: 2rem;">{{produit.formattedPrice}} € </div>
        </div>
    </div>
    </div>
    {% else %}
        <div class ="col-md-1"></div>
        <div class="col-md-3 card bg-white">
        <div class="card-body">
        <div class="row"><img src="/images/produits/{{produit.image}}">
        </div>
        <div class="row">
            <h5 class="card-title">
                <a href="{{ path('app_produit_show', {id: produit.id, slug: produit.slug}) }}">{{produit.nom}}</a>
            </h5>
        <p class="card-text text-dark">{{produit.description}}</p>
        <div class="text-primary" style="font-weight: bold; font-size: 2rem;">{{produit.formattedPrice}} € </div>
        </div>
    </div>
    </div>
    {% endif %}
    {% endif %}
    {% if total % 3 == 1 %}
    {% if (total - n) == 0 %}
        <div class ="col-md-2"></div>
        <div class="col-md-9 card bg-white">
        <div class="card-body">
        <div class="row"><img src="/images/produits/{{produit.image}}">
        </div>
        <div class="row">
            <h5 class="card-title">
                <a href="{{ path('app_produit_show', {id: produit.id, slug: produit.slug}) }}">{{produit.nom}}</a>
            </h5>
        <p class="card-text text-dark">{{produit.description}}</p>
        <div class="text-primary" style="font-weight: bold; font-size: 2rem;">{{produit.formattedPrice}} € </div>
        </div>
    </div>
    </div>
    <div class="col-md-1"></div>
    {% else %}
        <div class ="col-md-1"></div>
        <div class="col-md-3 card bg-white">
        <div class="card-body">
        <div class="row"><img src="/images/produits/{{produit.image}}">
        </div>
        <div class="row">
            <h5 class="card-title">
                <a href="{{ path('app_produit_show', {id: produit.id, slug: produit.slug}) }}">{{produit.nom}}</a>
            </h5>
        <p class="card-text text-dark">{{produit.description}}</p>
        <div class="text-primary" style="font-weight: bold; font-size: 2rem;">{{produit.formattedPrice}} € </div>
        </div>
    </div>
    </div>
    {% endif %}
    {% endif %}
    {% if total % 3 == 0 %}
         <div class ="col-md-1"></div>
        <div class="col-md-3 card bg-white">
        <div class="card-body">
        <div class="row"><img src="/images/produits/{{produit.image}}">
        </div>
        <div class="row">
            <h5 class="card-title">
                <a href="{{ path('app_produit_show', {id: produit.id, slug: produit.slug}) }}">{{produit.nom}}</a>
            </h5>
        <p class="card-text text-dark">{{produit.description}}</p>
        <div class="text-primary" style="font-weight: bold; font-size: 2rem;">{{produit.formattedPrice}} € </div>
        </div>
    </div>
    </div>
    {% endif %}
    {% if n % 3 == 0 %}
    </div>
    <div class="row pt-3 ">
    {% endif %}
    {% set n = n + 1 %}
    {% endfor %}
    {% endfor %}
    </div>
{% endblock %}
{% block javascripts %}{% endblock %}
